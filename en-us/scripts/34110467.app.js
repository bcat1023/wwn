REG(null, function () { var a = $("body").attr("data-s-m"), b = this; $(document).click(function (a) { var c = { m: "", n: "", o: "", p: "", u: "", t: "" }, d = a.target, e = d.tagName.toLowerCase(), f = ["a", "span", "input", "img", "h2", "p"], g = !0; $(d).attr("data-s-d") || "true" === $(d).closest("div[data-s-d]").attr("data-s-d") || -1 !== $.inArray(e, f) && ("input" === e && ("submit" === $(d).attr("type") ? (c.n = $(d).attr("data-s-n"), c.n || (g = !1)) : g = !1), -1 !== $.inArray(e, ["span", "img"]) && ($(d).parents("a").length > 0 ? d = $(d).closest("a") : g = !1), g && 3 !== a.which && (c.m = $(d).attr("data-s-m") || $(d).closest("[data-s-m]").attr("data-s-m"), c.m || (g = !1), c.n = c.n || $(d).attr("data-s-n") || $(d).closest("*[data-s-n]").attr("data-s-n") || $(d).text(), c.u = $(d).attr("href") || $(d).closest("a").attr("href") || "", c.u = "#" === c.u ? "" : c.u, "" == c.u && (g = !1), ($(d).attr("data-s-f") || $(d).closest("div[data-s-f]").attr("data-s-f")) && (g = !1), 2 === a.which && "" === c.u && (g = !1), -1 !== c.n.indexOf("-0") && (c.n = c.n.replace("-0", ""), c.u = ""), c.n || (g = !1), c.idx = $(d).attr("data-s-idx") || $(d).closest("*[data-s-idx]").attr("data-s-idx") || "", c.t = $(d).attr("data-s-t") || $(d).text() || $(d).closest("a").text() || $(d).closest("a").attr("title"), c.o = $(d).attr("data-s-o") || $(d).closest("*[data-s-o]").attr("data-s-o") || "", c.p = $(d).attr("data-s-p") || $(d).closest("*[data-s-p]").attr("data-s-p") || "", g && b.statistic(c))) }), b.statistic({ m: a, n: b.store("imxcom_fav_" + a) ? "newFavorites" : "defaultFavorites", dt: "oc", data: { ux: "open" } }) }), REG("search-bar", function () { function a() { b(), c(), d(), e() } function b() { $("#search-engine-arrow").removeClass("search-engine-arrow").addClass("googlecse-search-engine-arrow") } function c() { var a = $('<li><a href="#" class="engine" data-value="google-cse">Google Cse</a></li>'); $("#search-engine-popup").append(a) } function d() { var a = L.store("googleCseUsing"), b = L.store(ib); "yes" !== a ? (L.store("googleCseUsing", "yes"), n("google-cse")) : b && "google-cse" !== b ? n(b) : (n("google"), g(function (a) { a === !0 ? n("google") : n("google-cse") })) } function e() { var a = $("#search-settings-btn"), b = $('<a href="#" id="search-feedback-link" class="search-feedback-btn">Help & Feedback</a>'), c = $("<div class=search-inrange-btn></div>"); c.append(b), c.append(a), $("#search-settings-btn").remove(), $("#search-bar").append(c), $("#search-settings-popup").css("top", "44px"), L.notify("addSearchFeedBack", "success") } function f(a) { $.ajax({ url: "https://i.maxthon.com/api/ApiGetid.php?deviceid=" + a, type: "GET", dataType: "json", success: function (a) { 1 === a ? cb(!0) : cb(!1) }, error: function () { cb(!1) }, complete: function () { } }) } function g(a) { L.store(rb) ? f(L.store(rb)) : mxapi.getDeviceID(function (b, c) { return c && c.status ? (L.store(rb, c), f(c), void 0) : (a(!1), void 0) }) } function h() { i() } function i() { $.ajax({ url: yb, type: "GET", dataType: "json", success: function (a) { j(a) }, error: function () { j(!1) } }) } function j(a) { if (!a || !a.length) return Y.hide(), void 0; var b, c = ""; for (b = 0; b < a.length && 10 > b; b++)if (c += '<a data-s-n="' + (a[b].primary ? "search-hot-seo9" : "search-hot") + '" target="_blank" class="hot-search-contents" href="' + a[b].link + '">' + a[b].title + "</a>", b % 5 === 4) { var d = Math.floor(b / 5); $("#hot-search-wrap-" + d).html(c), c = "", 0 === d && ($("#hot-search-wrap-" + d).show(), gb = 0) } a.length > 5 && (H = setInterval(function () { k() }, 8e3), $(".search-hot").on("mouseenter", function () { clearInterval(H) }), $(".search-hot").on("mouseleave", function () { H = setInterval(function () { k() }, 8e3) })) } function k() { 0 === gb ? ($("#hot-search-wrap-" + gb).fadeOut(500), gb = 1, setTimeout(function () { $("#hot-search-wrap-" + gb).fadeIn(1e3) }, 550)) : ($("#hot-search-wrap-" + gb).fadeOut(500), gb = 0, setTimeout(function () { $("#hot-search-wrap-" + gb).fadeIn(1e3) }, 550)) } function l() { E(), S.addClass("search-engine-btn-pushed"), T.show() } function m() { S.removeClass("search-engine-btn-pushed"), T.hide() } function n(a) { if (a !== eb && hb[a]) { var b = hb[a], c = ""; M.removeClass("engine-" + eb).addClass("engine-" + a), T.find("a.engine.checked").removeClass("checked"), T.find("a.engine[data-value=" + a + "]").addClass("checked"), O.attr("action", b.url), Q.attr("name", b.key); for (var d in b.extra) c += '<input type="hidden" name="' + d + '" value="' + b.extra[d] + '">'; P.html(c), L.store(ib, a), eb = a } } function o(a) { var b = L.store(jb), c = []; if (!b) return c; if (b = b.split(","), !a) { for (var d = 0; d < b.length && qb > d; d++)c.push(unescape(b[d])); return c.map(function (a) { return { value: a, index: -1 } }) } a = a.toLowerCase(); for (var d = 0; d < b.length; d++) { var e = unescape(b[d]); 0 == e.toLowerCase().indexOf(a) && c.push({ value: e, index: 0 }) } return c = c.slice(0, pb) } function p(a) { var b = L.store(jb); b = b ? b.split(",") : []; var c = $.inArray(escape(a), b); c > -1 ? b.splice(c, 1) : b.length == ob && b.pop(), b.unshift(escape(a)), L.store(jb, b.join(",")) } function q() { L.store(jb, "") } function r() { if (null == L.store(jb)) { var a = $.cookie(kb); a = a ? a.split("|-|") : []; for (var b = a.length - 1; b > -1; b--)p(a[b]) } } function s() { if (t(), 0 == enableSuggest || 0 == enableHistory) { curSearchKey = Q.val(); var a = $.trim(curSearchKey); bb && bb.abort(); var b = 0 == enableHistory ? o(a) : []; a && 0 == enableSuggest ? tb[a] ? w(v(b, tb[a])) : (db && clearTimeout(db), db = setTimeout(function () { bb = $.getJSON(sb, { language: ab, query: a }, function (c) { if (c && c[1] && $.isArray(c[1])) { var d = u(c[1]); tb[a] = d, w(v(b, d)) } else w(v(b, [])) }) }, 200)) : w({ history: b, remote: [] }) } } function t() { wb = !1, R.hide() } function u(a) { for (var b, c, d, e, f, g = curSearchKey.toLowerCase(), h = g.charAt(0), i = g.length, j = [], k = 0; k < a.length; k++) { for (b = unescape(a[k]), c = b.toLowerCase(), d = 0, e = c.length, f = !1; e - i >= d;) { if (c.charAt(d) == h && c.substr(d, i) == g) { f = !0; break } d++ } j.push({ value: b, index: f ? d : -1 }) } return j } function v(a, b) { for (var c = 0; c < a.length; c++)for (var d = a[c], e = 0; e < b.length; e++)if (d.value == b[e].value) { b.splice(e, 1); break } return { history: a, remote: b.slice(0, qb - a.length) } } function w(a) { for (var b, c, d, e = "", f = curSearchKey.length, g = 0; g < a.history.length; g++)b = a.history[g].value, c = a.history[g].index, d = c > -1 ? G(b.substr(0, c)) + "<em>" + G(b.substr(c, f)) + "</em>" + G(b.substr(c + f)) : G(b), e += '<li><a href="#" class="history">' + d + "</a></li>"; for (var g = 0; g < a.remote.length; g++)b = a.remote[g].value, c = a.remote[g].index, d = c > -1 ? G(b.substr(0, c)) + "<em>" + G(b.substr(c, f)) + "</em>" + G(b.substr(c + f)) : G(b), e += '<li><a href="#">' + d + "</a></li>"; "" != e && (wb = !0, vb = a.history.length + a.remote.length, R.find("li").remove(), R.prepend(e).show()) } function x(a, b) { if (a = ~~a, a = 0 > a ? vb : a > vb ? 0 : a, ub = a, R.find("a.hover").removeClass("hover"), 0 == a) Q.val(curSearchKey), xb = "other"; else { var c = R.find("li:nth-child(" + a + ") a").addClass("hover"); b && Q.val(c.text()), xb = c.hasClass("history") ? "history" : "advice" } } function y() { V.show(), U.addClass("search-settings-btn-expand") } function z() { V.hide(), U.removeClass("search-settings-btn-expand") } function A() { enableSuggest = L.store(mb), null == enableSuggest && (enableSuggest = L.store(nb), null == enableSuggest && (enableSuggest = 0, L.store(nb, 0)), L.store(mb, enableSuggest)), W.prop("checked", 0 == enableSuggest) } function B() { enableHistory = L.store(lb), null == enableHistory && (enableHistory = 0, L.store(lb, enableHistory)), X.prop("checked", 0 == enableHistory) } function C(a) { a || R.find("li").remove(), enableSuggest = a ? 0 : 1, L.store(nb, enableSuggest), L.store(mb, enableSuggest) } function D(a) { a || R.find("li").remove(), enableHistory = a ? 0 : 1, L.store(lb, enableHistory) } function E() { m(), z(), t() } function F() { var a = Q.val(), b = $("body").hasClass("rtl"); if (a) { var c = a.charCodeAt(0); c > 1423 && 1792 > c ? (Q.addClass("dir-right"), R.addClass("dir-right")) : (Q.removeClass("dir-right"), R.removeClass("dir-right")) } else b ? (Q.addClass("dir-right"), R.addClass("dir-right")) : (Q.removeClass("dir-right"), R.removeClass("dir-right")) } function G(a) { return a.replace(/</g, "&lt;").replace(/>/g, "&gt;") } var H, I, J, K, L = this, M = L.root(), N = $(document), O = $("#search-form"), P = $("#search-hidden-data"), Q = $("#search-key"), R = ($("#search-btn"), $("#search-suggest-popup")), S = $("#search-engine-btn"), T = $("#search-engine-popup"), U = $("#search-settings-btn"), V = $("#search-settings-popup"), W = $("#search-toggle-suggest"), X = $("#search-toggle-history"), Y = ($("#search-clear-history"), $(".search-hot")), Z = ["bg-bg", "cs-cz", "de-de", "el-gr", "en-us", "en-in", "en-uk", "es-es", "es-mx", "et-ee", "fr-fr", "he-il", "hu-hu", "it-it", "nb-no", "nl-nl", "pl-pl", "pt-br", "ro-ro", "sk-sk", "th-th", "tr-tr", "uk-ua", "zh-tw"], _ = $("body").attr("data-s-m"), ab = Z.join("").indexOf(_) > -1 ? _ : "en-us"; I = "https://www.google.com/search", J = "aff-maxthon-newtab", K = "t5"; var bb, db, eb, fb, gb, hb = { google: { url: I, key: "q", extra: { client: J, channel: K } }, ask: { url: "https://eu.ask.com/web", key: "q", extra: { o: "1552", l: "dis" } }, bing: { url: "https://www.bing.com", key: "q", extra: { pc: "cosp", ptag: "A91255CDCDA", conlogo: "CT3210127" } }, yahoo: { url: "https://search.yahoo.com/search", key: "p", extra: { fr: "cb-max", serveUrl: "s.maxthon.com", ei: "utf-8" } }, yandex: { url: "https://yandex.ru/yandsearch", key: "text", extra: { clid: "124526" } }, seznam: { url: "https://search.seznam.cz/", key: "q", extra: {} }, youtube: { url: "https://www.youtube.com/results", key: "search_query", extra: {} }, "google-image": { url: "https://www.google.com/search", key: "q", extra: { client: "aff-maxthon-newtab", channel: "t5", tbm: "isch" } }, "bing-image": { url: "https://www.bing.com/images/search", key: "q", extra: { form: "MXB004", pc: "MXBR" } }, "google-cse": { url: "https://www.google.com", key: "q", extra: { cx: "partner-pub-2698861478625135:1721246843", ie: "UTF-8" } } }, ib = "imxcom_search_engine", jb = "imxcom_search_history", kb = "serachHistory", lb = "imxcom_search_enable_history", mb = "imxcom_search_enable_suggest", nb = "SEARCHENABLE", ob = 100, pb = 4, qb = 10, rb = "device_id", sb = "https://i.maxthon.com/api/search.php", tb = {}, ub = 0, vb = 0, wb = !1, xb = "", yb = L.domain.static + "/data/crondata/us_hot.js"; r(), A(), B(), h(); var zb = { isInVersionRange: function () { return mxapi.version && 1e6 * mxapi.version.major + mxapi.version.minor + 1e5 + 1e4 * mxapi.version.patch + 1e3 * mxapi.version.build > 4451e3 ? !0 : !1 } }; zb.isInVersionRange() ? a() : ("google-cse" === L.store(ib) && L.store(ib, "google"), n(L.store(ib) || "google")), O.on("submit", function () { var a = $.trim(Q.val()); a && p(a), L.statistic({ m: _, n: "search", o: xb, dt: "search", data: { url: hb[eb].url, title: eb, ux: "click", v: a } }) }), N.on("keydown", function (a) { var b = a.which; wb && (40 == b ? (x(ub + 1, !0), a.preventDefault()) : 38 == b && (x(ub - 1, !0), a.preventDefault())) }), N.on("mouseleave", "#search-suggest-popup", function () { x(0) }), N.on("mouseover", "#search-suggest-popup li a", function () { x(~~$(this).parent().index() + 1) }), N.on("click", "#search-suggest-popup li a", function (a) { a.preventDefault(); var b = $(this).text(); Q.val(b), fb = b, O.submit() }), N.on("keyup", ".search-key", function (a) { var b = $.trim(Q.val()); return b ? (-1 === $.inArray(a.which, [37, 38, 39, 40]) && (xb = "other", ub = 0, F(), s()), void 0) : (t(), void 0) }), N.on("click", ".search-key", function (a) { a.stopPropagation(), E(), s() }), N.on("click", "#search-engine-btn", function (a) { return a.preventDefault(), S.hasClass("search-engine-btn-pushed") ? (L.statistic({ m: _, n: "engine", o: "close", data: { ux: "click" } }), m()) : (L.statistic({ m: _, n: "engine", o: "open", data: { ux: "click" } }), l()), !1 }), N.on("click", "#search-engine-popup a.engine", function () { var a = $(this).attr("data-value"); L.statistic({ m: _, n: "setting", o: "select", p: a, data: { ux: "click" } }), n(a) }), N.on("click", "#search-settings-btn", function (a) { a.preventDefault(), a.stopPropagation(), U.hasClass("search-settings-btn-expand") ? (L.statistic({ m: _, n: "settings", o: "close", data: { ux: "click" } }), z()) : (L.statistic({ m: _, n: "settings", o: "open", data: { ux: "click" } }), E(), y()) }), N.on("click", "#search-clear-history", function () { L.statistic({ m: _, n: "search", o: "clear-history", data: { ux: "click" } }), q() }), N.on("click", "#search-toggle-suggest", function () { var a = $(this).prop("checked"); L.statistic({ m: _, n: "search", o: a ? "enable-suggest" : "disable-suggest", data: { ux: "click" } }), C(a) }), N.on("click", "#search-toggle-history", function () { var a = $(this).prop("checked"); L.statistic({ m: _, n: "search", o: a ? "enable-history" : "disable-history", data: { ux: "click" } }), D(a) }), N.on("click", function () { E() }) }), REG(null, function () { $.fn.tab = function (a) { var a = $.extend({}, a); $(this).each(function (b, c) { function d() { h = j.eq(0).addClass("cur"), i = k.eq(0).show(), l.css({ left: h.offset().left - h.parent().offset().left, width: h.outerWidth() }), a.init && a.init(f), j.click(function (a) { $(a.target).hasClass("nfl") || a.preventDefault(); var b = $(this).index(); e(b) }) } function e(b) { b != g && (h.removeClass("cur"), i.hide(), a.onTab && a.onTab(g, b, h, j.eq(b), i, k.eq(b)), h = j.eq(b).addClass("cur"), i = k.eq(b).show(), l.css({ left: h.offset().left - h.parent().offset().left, width: h.outerWidth() }), g = b) } var f = $(c), g = 0, h = null, i = null, j = f.find(".tab-head"), k = f.find(".tab-pane"), l = f.find(".tab-highlight"); d() }) } }), REG("websites", function () { var a = this, b = this.root(), c = $("body").attr("data-s-m"), d = ["favorites", "topSites", "mostRecent", "restoreLast"]; b.tab({ onTab: function (b, e) { a.statistic({ m: c, n: d[e], o: "tabClick", dt: "ui", data: { ux: "click" } }), 0 == e ? $("#most-btn-group").show() : $("#most-btn-group").hide() } }) }), REG("favor-pane", function () { function a() { var a = A.store(O), b = []; return a ? (a = A.parse(a), $.each(a, function (a, c) { b.push({ title: c.name, url: c.url, ico: c.ico }) }), A.store(N, A.stringify(b)), b) : null } function b() { var a = [], b = [], c = {}, d = !0, e = !0; return $.each(A.storeKeys(), function (a, e) { if (P.test(e)) { d = !1; var f = A.parse(A.store(e)), g = f.cats[0]; c[g] || (c[g] = []), c[g].push(A.parse(A.store(e))), A.store(e, null) } else Q.test(e) && (d = !1, b.push(A.parse(A.store(e))), A.store(e, null)) }), b.sort(function (a, b) { return a.ctime - b.ctime }).forEach(function (b) { "default" != b.state && (e = !1), "delete" != b.state && c[b.key] && c[b.key].sort(function (a, b) { return a.ctime - b.ctime }).forEach(function (b) { "default" != b.state && (e = !1), "delete" != b.state && a.push({ title: b.title, url: b.url, ico: b.ico }) }) }), d || e ? null : (A.store(N, A.stringify(a)), a) } function c() { var c = g(); if (c || "en-us" != B) { if ("en-in" == B) { var d = b(); if (d) return o(d) } } else { var e = a(); if (e) return o(e) } return c ? o(c) : (f(), q(), D.show(), void 0) } function d() { return (65536 * (1 + Math.random()) | 0).toString(16).substring(2) } function e() { return d() + "-" + d() + d() + d() + "-" + d() } function f() { D.find("a.title").each(function (a, b) { var c = $(b), d = c.attr("href"), e = c.attr("ico"); c.find("img").attr("src", e || n(d)).one("error", function () { $(this).attr("src", R) }) }) } function g() { var a = A.store(N); return a ? A.parse(a) : null } function h() { window.clearTimeout(z), z = window.setTimeout(i, 1e3) } function i() { var a = [], b = []; D.find("a.title").each(function (c, d) { var e = $(this), f = e.attr("ico"), d = { title: e.attr("title"), url: e.attr("href") }; f && (d.ico = f), a.push(d), "en-us" == B && (d.ico = f || n(e.attr("href")), b.push(d)) }), "en-us" == B && A.store(O, A.stringify(b)), A.store(N, A.stringify(a)) } function j() { var a = $.trim(I.val()), b = $.trim(J.val()), c = K ? void 0 : y.children("a").attr("ico"); if ("" == a ? I.addClass("valid_fail") : I.removeClass("valid_fail"), "" == b ? J.addClass("valid_fail") : J.removeClass("valid_fail"), "" != a && "" != b) { A.statistic({ m: B, n: C, o: K ? L ? "add" : "linkAdd" : "linkEdit", p: K ? "add" : "done", dt: "ui", data: K ? { ux: "click" } : { url: b, title: a } }); var d = $(p(a, b, c)); K ? (d.insertBefore(D.find("li.add")), M || v()) : d.replaceAll(y), d.find("a.title img").one("error", function () { $(this).attr("src", R) }), w(), t(), h() } } function k(a) { var b = /^https?:\/\//i; return b.test(a) || (a = "https://" + a), a } function l(a) { return a.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/ /g, "&nbsp;") } function m(a) { var b = { "https://click.v9.com/click?id=14958&ad=53403&platform=system&partner=maxthon": "https://www.booking.com/", "https://click.v9.com/click?id=26210&ad=54005&platform=system&partner=maxthon": "https://www.lightinthebox.com/", "https://click.v9.com/click?id=14964&ad=53409&platform=system&partner=maxthon": "https://www.dx.com/", "https://click.v9.com/click?id=36304&ad=56439&platform=system&partner=maxthon": "https://www.asos.cn/", "https://c.duomai.com/track.php?site_id=211878&aid=2520&euid=&t=https%3A%2F%2Fwww.asos.com%2F": "https://www.asos.com/", "https://c.duomai.com/track.php?site_id=211878&aid=1764&euid=booking&t=http%3A%2F%2Fwww.booking.com%2F": "https://www.booking.com/", "https://c.duomai.com/track.php?site_id=211878&aid=1344&euid=&t=http%3A%2F%2Fwww.macys.com%2F": "https://www.macys.com/", "https://www.jdoqocy.com/click-7721541-12799887?sid=&url=http%3A%2F%2Fwww.cheapflights.com": "https://www.cheapflights.com/", "https://www.jdoqocy.com/click-7721541-10581071?sid=&url=http%3A%2F%2Fwww.expedia.com": "https://www.expedia.com/" }; return b[a] } function n(a) { var b = m(a); b && (a = b); var c = /(^https?:\/\/[^\/;]+).*/i, d = c.exec(a); return d && d[1] ? d[1] + "/favicon.ico" : R } function o(a) { var b = ""; $.each(a, function (a, c) { b += p(c.title, c.url, c.ico, c.tag) }), b += '<li class="add"><a href="#"></a></li>', D.html(b), w(), f(), q(), D.show() } function p(a, b, c, d) { return b = k(b), "https://i.maxthon.com/api/lang.ebay.php" == b && (b = "https://rover.ebay.com/rover/1/711-53200-19255-0/1?icep_ff3=1&pub=5575044537&toolid=10001&campid=5337264385&customid=&ipn=psmain&icep_vectorid=229466&kwid=902099&mtid=824&kw=lg"), a = l(a), c = c || "", '<li><a target="_blank" href="' + b + '" class="title' + (d ? "" : " favor-tag") + '" title="' + a + '" ico="' + c + '"><img src="' + (c || n(b)) + '" alt="' + a + '"><span>' + a + '</span></a><div class="move"><a href="#" class="edit"></a><a href="#" class="delete"></a></div></li>' } function q() { var a = localStorage.getItem("en-us_adver-tag"); a || (a = e(), localStorage.setItem("en-us_adver-tag", a)), D.find(".favor-tag").each(function (b, c) { var d = $(c).attr("href"); d = d.replace(/{device_identifier}/, a), $(c).attr("href", d) }) } function r() { { var a = y.offset(); a.left, a.top + y.height() } if (K) I.val(""), J.val(""); else { var b = y.find(".title"), c = b.attr("title"), d = b.attr("href"); I.val(c), J.val(d) } G.css(s()).show(), J.focus() } function s() { var a = y.offset(), b = a.left, c = a.top, d = $(document), e = d.width(), f = d.height(), g = y.width(), h = y.height(), i = G.outerWidth(), j = G.outerHeight(); return b + i >= e && (b = b + g - i), c + h + j >= f ? c -= j : c += h, { top: c, left: b } } function t() { I.removeClass("valid_fail").val(""), J.removeClass("valid_fail").val(""), G.hide() } function u(a) { a.preventDefault(), A.statistic({ m: B, n: C, o: D.hasClass("editable") ? "done" : "edit", dt: "ui", data: { ux: "click" } }), v() } function v() { D.hasClass("editable") ? (D.removeClass("editable"), E.show(), F.hide(), t()) : (D.addClass("editable"), E.hide(), F.css("display", "inline-block")) } function w() { D.find("li").removeClass("last"), D.find("li:nth-child(4n)").addClass("last") } function x() { var a = $("#favor-list"); $("#side-feedback-link").parent().css({ left: a.offset().left - 75 + "px" }) } var y, z, A = this, B = (A.root(), $("body").attr("data-s-m")), C = "favorites", D = $("#favor-list"), E = $("#btn-favor-edit"), F = $("#btn-favor-done"), G = $("#favor-edit-dialog"), H = $("#favor-edit-form"), I = $("#title"), J = $("#url"), K = !1, L = !1, M = !1, N = "imxcom_fav_" + B, O = "module-favorites", P = /^_en_in_fav_N_.*/, Q = /^_en_in_fav_C_.*/, R = "/lang/images/favicon.png"; E.click(function (a) { M = !0, u(a) }), F.click(function (a) { M = !1, u(a) }), D.delegate("li.add", "click", function (a) { a.preventDefault(), y = $(this), K = !0, D.hasClass("editable") ? L = !0 : (D.addClass("editable"), E.hide(), F.css("display", "inline-block"), L = !1), A.statistic({ m: B, n: C, o: L ? "linkAdd" : "add", p: "open", dt: "ui", data: { ux: "click" } }), r() }), D.delegate("a.edit", "click", function (a) { a.preventDefault(), y = $(this).parent().parent(); var b = y.find(".title"), c = b.attr("title"), d = b.attr("href"); K = !1, A.statistic({ m: B, n: C, o: "linkEdit", p: "open", dt: "ui", data: { url: d, title: c } }), r() }), D.delegate("a.delete", "click", function (a) { a.preventDefault(), y = $(this).parent().parent(); var b = y.find(".title"), c = b.attr("title"), d = b.attr("href"); A.statistic({ m: B, n: C, o: "linkDel", dt: "ui", data: { url: d, title: c } }); var e = $(this).parent().parent(); e.remove(), w(), h() }), G.find(".button-secondary").click(function (a) { if (a.preventDefault(), K) M || v(); else var b = y.find(".title"), c = b.attr("title"), d = b.attr("href"); A.statistic({ m: B, n: C, o: K ? L ? "add" : "linkAdd" : "linkEdit", p: "cancel", dt: "ui", data: K ? { ux: "click" } : { url: d, title: c } }), t() }), H.submit(function (a) { a.preventDefault(), j() }), c(), x(), $(window).resize(x) }), REG("top-sites", function () { function a(a) { var b = /(^https?:\/\/[^\/;]+).*/i, d = b.exec(a); return d && d[1] ? d[1] + "/favicon.ico" : c } var b = this, c = (b.root(), $("body").attr("data-s-m"), "/lang/images/favicon.png"), d = $("#top-pane").index(), e = !0; $("#websites").find(".tab-head").eq(d).on("click", function (b) { b.preventDefault(), e && $("#top-pane").find("a").each(function (b, d) { var e = $(d), f = e.attr("href"); e.find("img").attr("src", a(f)).one("error", function () { $(this).attr("src", c) }) }), e = !1 }) }), REG("most-pane", function () { function a(a) { var b = a.slice(0, g), d = ""; $.each(b, function (a, b) { d += '<li><a target="_blank" href="' + b.url + '" class="title" title="' + b.title + '"><img src="' + h + '" alt="' + b.title + '">' + b.title + "</a></li>" }), f.html(d), c() } function b(a) { var b = /(^https?:\/\/[^\/]*).*/i, c = b.exec(a); return c && c[1] ? c[1] + "/favicon.ico" : h } function c() { f.find("a.title").each(function (a, c) { var d = $(c), e = d.attr("href"); d.find("img").attr("src", b(e)).one("error", function () { $(this).attr("src", h) }) }) } var d = this, e = d.root(), f = ($("body").attr("data-s-m"), $("#most-list")), g = 12, h = "/lang/images/favicon.png"; return null === mxapi.version || mxapi.version.major < 2 ? (f.hide(), e.find(".not-maxthon").show(), void 0) : (mxapi.favorites.mostVisitedList(g, function (b, c) { return b ? console.error(b) : (a(c), void 0) }), void 0) }), REG("last-pane", function () { function a(a) { var b = [], c = [], d = []; return b = a.slice(0, h), c = ["https://i.maxthon.com", "https://i.maxthon.com/", "https://i.maxthon.com/index.htm", "https://i.maxthon.com/lang.htm", "i.maxthon.com", "i.maxthon.com/", "i.maxthon.com/index.htm", "i.maxthon.com/lang.htm"], $(b).each(function (a, e) { $.inArray(e.url, c) < 0 && $.inArray(e.url, b) < 0 && d.unshift({ title: e.title, url: e.url }) }), d } function b(b) { var c = a(b), d = ""; $.each(c, function (a, b) { d += '<li><input type="checkbox" checked><a target="_blank" href="' + b.url + '" class="title" title="' + b.title + '">' + b.title + "<em> - " + b.url + "</em></a></li>" }), g.html(d) } function c() { d.statistic({ m: f, n: "restoreLast", o: "restore", dt: "ui" }); var a = []; g.find(":checked").each(function (b, c) { a.push($(c).next().attr("href")) }), mxapi.history.open(a) } var d = this, e = d.root(), f = $("body").attr("data-s-m"), g = $("#last-list"), h = 12; return null === mxapi.version || mxapi.version.major < 2 ? (g.hide(), e.find(".btn-group").hide(), e.find(".not-maxthon").show(), void 0) : (4 == mxapi.version.major && 9 == mxapi.version.minor && $(".link-history").remove(), $(".link-history").on("click", function (a) { mxapi.version.major > 4 && (a.preventDefault(), historyUrl = "mx://history/", maxthon.webSend("newTabUpground", { url: historyUrl }, function () { })) }), mxapi.history.lastOpenList(function (a, h) { return a ? console.error(a) : (b(h), $("#btnOpenAll").click(function () { c() }), g.delegate(":checkbox", "click", function () { var a = $(this), b = a.next(), c = b.attr("href"), e = b.attr("title"); d.statistic({ m: f, n: "restoreLast", o: "checkbox", p: a.attr("checked") ? "cancel" : "selected", dt: "ui", data: { url: c, title: e } }) }), e.find(".link-history").click(function () { d.statistic({ m: f, n: "restoreLast", o: "history", dt: "ui", data: { ux: "click" } }) }), void 0) }), void 0) }), REG("news", function () {
    function a() { var a = "", c = "", d = ""; $.each(D, function (b, e) { var f = ""; E.indexOf(e.title) > -1 && (f = "<i></i>"), a += '<a href="#" class="tab-head" data-cate="' + e.statistic + '">' + e.title + f + "</a>", c += '<div id="' + e.statistic + '-pane" class="tab-pane" data-s-o="' + e.statistic + '"></div>', d += '<a href="#" class="button" data-cate="' + e.statistic + '">' + e.title + "</a>" }), z.prepend(a), A.prepend(c), B.append(d), b(0, $("#news .tab-pane-container .tab-pane:eq(0)")), x.tab({ onTab: function (a, c, d, e, f, g) { b(c, g); var h = e.data("cate"); w.statistic({ m: y, n: "topNews", o: h, p: I, dt: "ui", data: { ux: "click" } }), I = "openTop" } }) } function b(a, b) { var c, f = D[a], g = f.file; return c = F[g], 0 == a && v && G < v.length ? j() : k(), c ? (U.status && "Local News" === f.title && U.init(), void 0) : (b.html('<div class="news-item news-loading"><div class="loading-bar">Loading<i></i><i></i><i></i></div></div>'), h(g, function (c) { b.find(".news-loading").remove(), 0 == a ? (u = b, v = c.headlines, e(), j()) : ("World" === f.title && (c = t(c)), d(b, c)) }), void 0) } function c(a) { return a = $.grep(a, function (a) { return a.title && a.fromuri }), $.each(a, function (a, b) { if (b.creator = b.creator || "Unknow source", b.info = b.info || "", b.updated) { var c = b.updated; c = c ? " | " + c : "", b.updated = c } else b.updated = "" }), a } function d(a, b) { var d = ""; b = c(b), $.each(b, function (a, b) { d += '<div data-s-idx="' + a + '" class="news-item' + (b.ico ? "" : " news-no-img") + ' clearfix">', b.ico && (d += '<a target="_blank" href="' + b.fromuri + '" class="news-image" title="' + b.title + '" data-s-p="photo">', d += '<img src="' + b.ico + '" alt="' + b.title + '">', d += "</a>"), d += '<div class="news-article">', d += '<h3 class="news-title">', d += '<a target="_blank" href="' + b.fromuri + '" title="' + b.title + '" data-s-p="title">' + b.title + "</a>", d += "</h3>", d += "</div>", d += "</div>" }), a.append(d) } function e() { var a = "", b = v.slice(G, G + 10); $.each(b, function (b, c) { 10 > G ? (3 == b || 8 == b) && (a += f()) : (G + b - 3) % 5 == 0 && (a += f()), a += g(c, G, b) }), G += 10, H += 3, u.append(a), (adsbygoogle = window.adsbygoogle || []).push({}) } function f() { return result = '<div class="news-item"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle"style="display:block"data-ad-format="fluid"data-ad-layout-key="-g9-n+2i-mh+16m"data-ad-client="ca-pub-7477352286743816"data-ad-slot="8854174629"></ins></div>' } function g(a, b, c) { var d; return d = '<div data-s-idx="' + (b + c) + '" class="news-item' + (0 == c ? " news-lead" : "") + (a.src ? "" : " news-no-img") + ' clearfix" data-s-p="photo">', a.src && (d += '<a target="_blank" href="' + a.link + '" class="news-image outbrain" outbrain-nid="' + a.id + '" title="' + a.title + '">', d += '<img src="' + a.src + '" alt="' + a.title + '">', d += "</a>"), d += '<div class="news-article">', d += '<h3 class="news-title">', d += '<a target="_blank" href="' + a.link + '" title="' + a.title + '" data-s-p="title" class="outbrain" outbrain-nid="' + a.id + '">' + a.title + "</a>", d += "</h3>", a.info && (d += '<p class="news-summary">', d += '<a target="_blank" href="' + a.link + '" data-s-p="summary" class="outbrain" outbrain-nid="' + a.id + '">' + a.info + "</a>", d += "</p>"), d += "</div>", d += "</div>" } function h(a, b) { $.ajax({ url: a, type: "GET", dataType: "json", success: function (c) { F[a] = !0, b(c) }, error: function (c, d, e) { "No Transport" === e && i(a, b) } }) } function i(a, b) { $.ajax({ url: "/api/getJSON.php", type: "GET", data: { url: a }, dataType: "json", success: function (c) { F[a] = !0, b(c) }, error: function () { } }) } function j() { J.bind("scroll", l) } function k() { J.unbind("scroll") } function l() { J.scrollTop() + J.height() > B.offset().top - 350 && e() } function m() { var a = "", a = "", b = ""; $.each(K, function (c, d) { b = 0 === c ? 'style="height:248px;width:440px;left:' + P + 'px;top:0;z-index:290;"' : 1 === c ? 'style="height:180px;width:300px;right:-1px;left:auto;top:34px;z-index:280;"' : c === K.length - 1 ? 'style="height:180px;width:300px;left:0;top:34px;z-index:280;"' : 2 === c ? 'style="right:20px;left:auto;z-index:270;"' : c === K.length - 2 ? 'style="left:20px;z-index:270;"' : "", a += '<a href="' + d.link + '" target="_blank" title="' + d.title + '" data-s-idx="' + (c + 1) + '"' + b + ' class="outbrain"><img src="' + d.src + '" alt="' + d.title + '"></a>' }), $("#news-slider-inner").html(a), R.attr("href", K[0].url), R.attr("data-s-t", K[0].title), R.attr("data-s-idx", 1), R.find("h2").text(K[0].title), K[0].info && R.find("p").text(K[0].info), q() } function n() { O = setInterval(function () { r(L + 1) }, 1e4) } function o() { clearInterval(O) } function p(a, b) { a++, b = b || Q, $("#news-slider-page-num").html(a + " of " + b) } function q() { N = $("#news-slider-inner a"), L = 0, M = N.eq(L), p(L), $("#news-slider-btn-prev").click(function (a) { a.preventDefault(), T || (T = !0, w.statistic({ m: y, n: "newsSlider", o: "prev", dt: "ui", data: { ux: "click" } }), r(L - 1, !0)) }), $("#news-slider-btn-next").click(function (a) { a.preventDefault(), T || (T = !0, w.statistic({ m: y, n: "newsSlider", o: "next", dt: "ui", data: { ux: "click" } }), r(L + 1)) }), n(), s() } function r(a, b) { if (0 > a && (a = Q - 1), a > Q - 1 && (a = 0), a != L) { if (S.hide(), b > 0) { var c = N.eq(a).css({ "z-index": 290 }).animate({ left: P, top: 0, height: 248, width: 440 }, 700); M.css({ left: "auto", "z-index": 280 }).animate({ height: 180, width: 300, right: 0, top: 34 }, 700), N.eq(0 > a - 1 ? Q - 1 : a - 1).css({ "z-index": 270 }).animate({ left: 0, top: 34, height: 180, width: 300, "z-index": 280 }, 700), N.eq(0 > a - 2 ? Q + (a - 2) : a - 2).css({ left: 20 }), N.eq(a + 2 > Q - 1 ? a + 2 - Q : a + 2).css({ left: "auto", "z-index": 260 }).animate({ right: 20, top: 53, height: 156, width: 260 }, 200), N.eq(a + 3 > Q - 1 ? a + 3 - Q : a + 3).css({ height: 120, width: 200, top: 64, left: 265 }) } else { var c = N.eq(a).css({ "z-index": 290, left: "auto" }).animate({ right: P - 1, top: 0, height: 248, width: 440 }, 700); M.css({ left: "auto", "z-index": 280 }).animate({ left: 0, top: 34, height: 180, width: 300 }, 700), N.eq(a + 1 > Q - 1 ? 0 : a + 1).css({ left: "auto", "z-index": 280 }).animate({ right: 0, top: 34, height: 180, width: 300 }, 700), N.eq(a + 2 > Q - 1 ? a + 2 - Q : a + 2).css({ left: "auto", "z-index": 260, right: 20 }), N.eq(0 > a - 2 ? Q + a - 2 : a - 2).css({ right: "auto", "z-index": 260 }).animate({ left: 10, top: 53, height: 156, width: 260 }, 400).animate({ left: 20, top: 71, height: 120, width: 200 }, 300), N.eq(0 > a - 3 ? Q + a - 3 : a - 3).css({ height: 120, width: 200, top: 64, left: 265 }) } R.attr("href", K[a].link), R.attr("data-s-t", K[a].title), R.attr("data-s-idx", a + 1), R.find("h2").text(K[a].title), setTimeout(function () { S.fadeIn(300) }, 500), p(a), L = a, M = c, setTimeout(function () { T = !1 }, 800) } } function s() { var a = !1; $("#news-slider-play-info").find("span").on("click", function () { $(this).parent().hide() }), $("#news-slider-play").find("span").on("click", function () { $(this).parent().toggleClass("news-slider-stop"), a = !a }), $("#news-slider").mouseenter(function () { o() }).mouseleave(function () { a || n() }) } function t(a) { function b(a) { a && (a.ico = a.src, a.fromuri = a.link, a.creator = "China Daily", d.push(a)) } for (var c = a.normal, d = [], e = 0, f = c.length; f > e; e++)b(c[e]); return d } var u, v, w = this, x = this.root(), y = $("body").attr("data-s-m"), z = x.find(".tab-head-container"), A = x.find(".tab-pane-container"), B = x.find(".news-tools"), C = $("#news-slider").length ? $("#news-slider").offset().top : 0, D = ($.cookie("SSID"), [{ statistic: "headlines", title: "Headlines", file: w.domain.static + "/data/en-us/new-headlines.js", "file-slider": w.domain.static + "/data/en-us/new-slides.js" }, { statistic: "entertrain", title: "Entertainment", href: "https://news.google.com/news/feeds?ned=us&topic=e&output=rss", file: w.domain.static + "/data/news-entertainment.js" }, { statistic: "sports", title: "Sports", href: "https://news.google.com/news?ned=us&topic=s&output=rss", file: w.domain.static + "/data/news-sports.js" }, { statistic: "business", title: "Business", href: "https://news.google.com/news/feeds?ned=us&topic=b&output=rss", file: w.domain.static + "/data/news-business.js" }, { statistic: "localnews", title: "Local News", href: "", file: "noRequest" }]), E = "Entertainment", F = { noRequest: !0 }, G = 0, H = 0, I = "openTop", J = $(window); B.delegate("a", "click", function (a) { a.preventDefault(), window.scrollTo(0, C); var b = $(this).data("cate"); I = "openBottom", z.find("[data-cate=" + b + "]").click() }), a(), h(D[0]["file-slider"], function (a) { K = a.slides, Q = K.length, m() }); var K, L, M, N, O, P, Q = 30, R = $("#news-slider-title"), S = $("#news-slider-title-container"), T = !1; P = window.innerWidth <= 1100 ? 99 : 145, J.resize(function () { window.innerWidth <= 1100 ? (P = 99, M.css({ left: 99 })) : (P = 145, M.css({ left: 145 })) }); var U = {
        init: function () {
            var a = this; this.status = !1; var b = this.city, c = [], d = this.ele; c.push('<div class="local-news" id="local-news" data-s-n="-0">'), c.push('<div class="location-title"><div id="location_edit" class="edit"><span class="city"></span><span class="line">|</span><a href="#"id="location_edit_btn" data-s-p="edit">Edit</a></div></div>'), c.push('<div class="location-content"><div class="mask"></div>'), c.push('<div class="set-city"><p>Please enter your location below to get your local news.</p><input type="text" class="current-city" data-s-o="open" id="current-city" placeholder="City,State or ZIP Please!">'), c.push('<a class="set-current-city" href="#" id="set-current-city" data-s-p="save">Save</a><a class="cancel"href="#" id="cancel-current-city" data-s-p="cancel">Cancel</a> <div class="msg"id="set-current-city-msg">&nbsp;</div></div></div><div id="news-list-wrap" class="news-list-wrap"></div></div>'), $("#localnews-pane").html(c.join("")), b && this.requestNews(b, "auto"); var e = d.input = $("#current-city"), f = d.set_btn = $("#set-current-city"), g = d.cancel_btn = $("#cancel-current-city"), h = d.news_list_wrap = $("#news-list-wrap"), i = d.edit = $("#location_edit"), j = d.edit_btn = $("#location_edit_btn"), k = d.content = $("#localnews-pane").find(".location-content"), l = d.set_box = k.find(".set-city"), m = d.msg = $("#set-current-city-msg"); e.on("keyup", function () { m.html("&nbsp;") }), f.on("click", function (b) { b.preventDefault(); var c = $.trim(e.val()); return c ? (a.city !== c && a.requestNews(c, "set"), void 0) : (m.html("Whoops!Where's that?Please try agian."), void 0) }), j.on("click", function (a) { a.preventDefault(), w.statistic({ m: y, n: "localNews", o: "edit", dt: "ui" }), k.addClass("modify"), l.show() }), g.on("click", function (a) { a.preventDefault(), w.statistic({ m: y, n: "localNews", o: "cancel", dt: "ui" }), l.hide(), k.removeClass("modify") }), h.delegate("a", "click", function () {
                var a = $(this), b = i.find(".city").html();
                w.statistic({ m: y, n: "localNews", o: b, dt: "content", data: { url: a.attr("href"), title: a.attr("title") } })
            })
        }, reqStatus: !1, requestNews: function (a, b) { var c, d = this; d.reqStatus || (d.reqStatus = !0, c = d.ele, $.ajax({ url: "https://i.maxthon.com/api/ApiLocal.php?city=" + a, type: "GET", dataType: "json", success: function (a) { w.statistic({ m: y, n: "localNews", dt: "ui", data: { city: a.City, mode: b } }); var e = a.List; if (e && e.length) { for (var f = ['<div class="news-list">'], g = 0; g < e.length; g++)f.push('<div data-s-idx="' + g + '" class="news-item news-no-img clearfix" data-s-p="photo"><h3 class="news-title"><a target="_blank" href="' + e[g].link + '" title="' + e[g].title + '" data-s-p="title">' + e[g].title + "</a></h3></div></div>"); f.push("</div>"), c.news_list_wrap.html(f.join("")), d.city = a.City, c.edit.find(".city").html(a.City).parent().parent().show(), c.content.removeClass("modify"), $.cookie("us-local-city", a.City, { expires: 365 }), c.set_box.hide(), c.edit.show(), c.input.val("") } else c.msg.html("No news currently available for your location.") }, error: function () { c.msg.html("Sorry, the data acquisition failed,  please try later.") }, complete: function () { d.reqStatus = !1 } })) }, ele: {}, city: $.cookie("us-local-city"), status: !0
    }
}), REG("weather", function () { function a() { g(A), e() } function b() { g(A); var b = ab.split("|"); c(b[0] + " " + b[1] + " " + b[2], function (b) { var c = b[0]; h(c), a() }, function () { g(F) }, function (a) { console.error(a), g(F) }) } function c(a, b, c, d) { var e = $.getJSON(M + '"' + a + '"').done(function (a) { var d = j(a); d.length > 0 ? b(d) : c() }).fail(d); return e } function d() { $.ajax({ url: L, type: "POST", dataType: "json", data: { u: _ }, success: function (a) { if (null == a) return g(F), $(".weather-pane.weather-setting p").css({ color: "red" }), void 0; var b = a.location; if (b && b.woeid) { var c = b, d = {}; d.woeid = c.woeid, d.countrycode = c.countrycode || "", d.country = c.country || "", d.county = c.region || "", d.city = c.city || "Unkown", h(d); var e = i(a); l(e) } else g(F) }, error: function (a) { console.error(a), g(F) } }) } function e(a) { var b = { woeid: X, u: _ }; a && (b = $.extend({ u: _ }, a)), $.ajax({ url: L, type: "POST", dataType: "json", data: b, success: function (a) { if (null == a) return g(F), $(".weather-pane.weather-setting p").css({ color: "red" }), void 0; W && f("show"), W = !1; var b = i(a); h(a.location), a ? l(b) : g(F) }, error: function (a) { console.error(a), g(F) } }) } function f(a) { F.find(".close")[a](), F.find(".button-secondary")[a]() } function g(a) { z.hide(), a.show() } function h(a) { Y = a.country, Z = a.city, X = a.woeid, v.store(P, X), v.store(R, Y), v.store(T, Z) } function i(a) { if (a && a.current_observation) { var b = {}, c = a.current_observation; return b.humidity = c.atmosphere.humidity, b.windSpeed = parseInt(c.wind.speed), b.windDirection = k(c.wind.direction), b.feelLike = c.wind.chill, b.visibility = c.atmosphere.visibility, b.temp = c.condition.temperature, b.code = c.condition.code, b.text = c.condition.text, b.tempUnit = _, b.speedUnit = c.wind.speed, b.forecast = [], $.each(a.forecasts, function (a, c) { b.forecast.push({ code: c.code, text: c.text, low: c.low, high: c.high, day: 0 == a ? "Today" : c.day }) }), b } return null } function j(a) { var b = []; if (a && a.query && a.query.count && a.query.count > 0) { var c = a.query.results.place; c.length || (c = [c]), $.each(c, function (a, c) { var d = {}; c.woeid && (d.woeid = c.woeid, c.country ? (d.countrycode = c.country.code, d.country = c.country.content) : (d.countrycode = "", d.country = ""), d.county = c.admin1 ? c.admin1.content : "", d.city = c.locality2 ? c.locality2.content : c.locality1 ? c.locality1.content : c.name, b.push(d)) }) } return b } function k(a) { return 0 == a ? "" : a > 348.75 || 11.25 > a ? "N " : a > 11.25 && 33.75 > a ? "NNE " : a > 33.75 && 56.25 > a ? "NE " : a > 56.25 && 78.75 > a ? "ENE " : a > 78.75 && 101.25 > a ? "E " : a > 101.25 && 123.75 > a ? "ESE " : a > 123.75 && 146.25 > a ? "SE " : a > 146.25 && 168.75 > a ? "SSE " : a > 168.75 && 191.25 > a ? "S " : a > 191.25 && 213.75 > a ? "SSW " : a > 213.75 && 236.25 > a ? "SW " : a > 236.25 && 258.75 > a ? "WSW " : a > 258.75 && 281.25 > a ? "W " : a > 281.25 && 303.75 > a ? "WNW " : a > 303.75 && 326.25 > a ? "NW " : a > 326.25 && 348.75 > a ? "NNW " : "NONE" } function l(a) { var b = function (a) { return a }; "c" === v.store(U).toLowerCase() && (a.tempUnit = "C"), C.find(".weather-icon").attr("src", "/lang/images/weather/middle/" + a.code + ".png"), C.find(".weather-temp").text(b(a.temp)), C.find(".weather-unit").html("&deg;" + a.tempUnit), C.find(".weather-city").text(Z + (Y ? ", " + Y : "")).attr("title", Z + (Y ? ", " + Y : "")), C.find(".weather-title").text(a.text).attr("title", a.text), D.find(".weather-icon").attr("src", "/lang/images/weather/large/" + a.code + ".png"), D.find(".weather-temp").text(b(a.temp)), D.find(".weather-unit").html("&deg;" + a.tempUnit), D.find(".weather-city").text(Z + (Y ? ", " + Y : "")), D.find(".weather-title").text(a.text), D.find(".weather-feel-like").html("Feel Like: " + a.feelLike + "&deg;" + (a.tempUnit || "F").toUpperCase()), D.find(".weather-humidity").text("Humidity: " + a.humidity + "%"), D.find(".weather-wind").text("Wind: " + a.windDirection + a.windSpeed + a.speedUnit), D.find(".weather-visibility").text("Visibility: " + (a.visibility ? a.visibility + "mi" : "Unknown")); var c = ""; $.each(a.forecast, function (a, d) { c += '<li class="clearfix">', c += '<span class="forecast-day">' + d.day + "</span>", c += '<img src="/lang/images/weather/small/' + d.code + '.png" alt="' + d.text + '" class="forecast-icon">', c += '<span class="forecast-title" title="' + d.text + '">' + d.text + "</span>", c += '<span class="forecast-high">' + b(d.high) + "&deg;</span>", c += '<span class="forecast-low">' + b(d.low) + "&deg;</span>", c += "</li>" }), E.html(c), g(r) } function m() { o(), q(""), u = H.val(); var a = $.trim(u); return "" == a ? (q(""), void 0) : (t && clearTimeout(t), db[a] ? n(db[a]) : t = setTimeout(function () { s = c(a, function (b) { db[a] = b, n(b) }, function () { o() }, function (a) { console.error(a), o() }) }, 200), void 0) } function n(a) { if (a.length > 0) { for (var b = "", c = 0; c < a.length; c++) { var d = a[c], e = d.city + (d.county ? ", " + d.county : "") + (d.country ? ", " + d.country : ""); b += '<li><a href="#" title="' + e + '">' + e + "</a></li>" } fb = !0, J.html(b).show() } else q("No results found.") } function o() { fb = !1, J.hide() } function p(a, b) { if (a = ~~a, eb = a, J.find("a.hover").removeClass("hover"), 0 == a) H.val(u); else { var c = J.find("li:nth-child(" + a + ") a").addClass("hover"); b && H.val(c.text()) } } function q(a) { I.text(a) } var r, s, t, u, v = this, w = this.root(), x = $(document), y = $("body").attr("data-s-m"), z = w.find(".weather-pane"), A = w.find(".weather-loading"), B = w.find(".weather-initial"), C = w.find(".weather-today"), D = w.find(".weather-more"), E = w.find(".weather-forecast"), F = w.find(".weather-setting"), G = F.find(".weather-temp-units"), H = F.find(".weather-key"), I = F.find(".weather-log"), J = F.find(".weather-suggest-popup"), K = $("#weather-form"), L = "https://i.maxthon.com/api/weather/weather.php", M = "https://query.yahooapis.com/v1/public/yql?format=json&q=select * from geo.places where text=", N = "city", O = "temperature", P = "imxcom_woeid", Q = "imxcom_country_code", R = "imxcom_country", S = "imxcom_county", T = "imxcom_city", U = "imxcom_temp_unit", V = "imxcom_weather_more", W = !1, X = v.store(P), Y = (v.store(Q), v.store(R)), Z = (v.store(S), v.store(T)), _ = v.store(U), ab = v.store(N), bb = v.store(O), cb = v.store(V), db = {}, eb = 0, fb = !1; null == cb && (cb = 0, v.store(V, 0)), r = 0 == cb ? C : D, _ || (_ = bb ? bb : "f", v.store(U, _)), G.find('a[data-unit="' + _ + '"]').addClass("selected"), X ? a() : ab ? b() : d(), B.click(function () { g(F) }), C.click(function () { r = D, v.store(V, 1), v.statistic({ m: y, n: "weatherReport", o: "expand", dt: "ui", data: { ux: "click" } }), g(D) }), D.find(".btn-collapse").click(function (a) { a.preventDefault(), r = C, v.store(V, 0), v.statistic({ m: y, n: "weatherReport", o: "collapse", dt: "ui", data: { ux: "click" } }), g(C) }), D.find(".btn-setting").click(function (a) { a.preventDefault(), H.val(""), v.statistic({ m: y, n: "weatherReport", o: "edit", dt: "ui", data: { ux: "click" } }), $(".weather-setting p").css({ color: "#444" }), g(F) }), F.find(".close, :reset").click(function (a) { a.preventDefault(), v.statistic({ m: y, n: "weatherReport", o: "cancel", dt: "ui", data: { ux: "click" } }), q(""), o(), g(r) }), G.find("a").click(function (b) { b.preventDefault(); var c = $(this).data("unit"); v.statistic({ m: y, n: "weatherReport", o: c, dt: "ui", data: { ux: "click" } }), c != _ && (G.find(".selected").removeClass("selected"), $(this).addClass("selected"), _ = c, v.store(U, c), a()) }), K.on("submit", function (a) { a.preventDefault(), q(""); var b = $.trim(H.val()); return "" == b ? (q(""), void 0) : (o(), g(A), v.statistic({ m: y, n: "weatherReport", o: "save", dt: "users", data: { value: b } }), /^\d*$/.test(b) ? e({ woeid: b }) : e({ city_name: b }), void 0) }), x.on("keydown", function (a) { var b = a.which; fb && (40 == b ? (p(eb + 1, !0), a.preventDefault()) : 38 == b && (p(eb - 1, !0), a.preventDefault())) }), x.on("click", ".weather-suggest-popup li a", function (b) { b.preventDefault(), q(""), v.statistic({ m: y, n: "weatherReport", o: "save", dt: "users", data: { value: u } }); var c = $(this).parent().index(), d = db[u][c]; o(), g(A), h(d), a(), H.val("") }), x.on("click", ".weather-key", function (a) { a.stopPropagation(), m() }), x.on("mouseover", ".weather-suggest-popup li a", function () { p(~~$(this).parent().index() + 1) }), x.on("mouseleave", ".weather-suggest-popup", function () { p(0) }), x.on("keyup", "#weather-key", function (a) { -1 === $.inArray(a.which, [37, 38, 39, 40]) && (eb = 0, m()) }), x.on("click", function () { o() }) }), REG("tv", function () { function a(a) { var c = ""; $.each(a, function (a, d) { c += b(a, d) }), $("#tv-pane ul").html(c) } function b(a, b) { var c = ""; return a % 2 == 0 && (c += '<div class="clearfix">'), c += '<li data-s-idx="' + a + '">', c += '<a data-s-o="photo" href="' + b.link + '" title="' + b.title + '" target="_blank">', c += '<img src="' + b.ico + '" alt="' + b.title + '">', c += "</a>", c += "<h3>", c += '<a data-s-o="text" href="' + b.link + '" title="' + b.title + '" target="_blank">' + b.title + "</a>", c += "</h3>", c += "</li>", a % 2 == 1 && (c += "</div>"), c } var c = this, d = this.root(), e = ($("body").attr("data-s-m"), c.domain.static + "/data/crondata/tvshow.js"); d.tab(), c.getNewData(e, a) }), REG("music", function () { function a(a) { var c = ""; $.each(a, function (a, d) { c += b(a, d) }), c += '<div class="see-more"></div>', $("#music-pane ul").html(c), $("#music-pane ul .see-more").html(d).click(function () { 0 == i ? ($("#music-pane .hide-more-items").removeClass("hide-more-items").addClass("show-more-items"), $("#music-pane .see-more").html("fold it"), i = 1, e.store(h, 1)) : ($("#music-pane .show-more-items").removeClass("show-more-items").addClass("hide-more-items"), $("#music-pane .see-more").html("see more"), i = 0, e.store(h, 0)) }) } function b(a, b) { var d = ""; return d += '<li data-s-idx="' + a + '" ' + (a >= 3 ? 'class="' + c + '"' : "") + ">", d += '<a data-s-o="music-photo" class="image-link" data-s-o="photo" href="' + b.link + '" title="' + b.title + '" target="_blank">', d += '<img src="' + b.img + '" alt="' + b.title + '">', d += "</a>", d += "<div>", d += '<a class="title" data-s-o="mucis-title" href="' + b.link + '" title="' + b.title + '" target="_blank">' + b.title + " " + b.author + "</a>", d += '<a class="album" data-s-o="music-album" href="' + b.album_url + '" target="_blank">' + b.album + "</a>", d += '<a class="date" data-s-o="music-date">' + b.updated + "</a>", d += "</div>", d += "</li>" } var c, d, e = this, f = this.root(), g = ($("body").attr("data-s-m"), e.domain.static + "/data/crondata/us_music.js"), h = "more_music", i = e.store(h); f.tab(), 0 != i && 1 != i && (i = 0, e.store(h, 0)), 1 == i ? (c = "show-more-items", d = "fold it") : (c = "hide-more-items", d = "see more"), e.getNewData(g, a) }), REG("latestNews", function () { function a(a) { var c = ""; $.each(a, function (a, d) { c += b(a, d) }), c += '<div class="see-more"></div>', $("#latestNewsPane ul").html(c); for (var d = $(".adsbygoogle").filter("[data-adsbygoogle-status!=done]").length, g = d - 1; g >= 0; g--)(adsbygoogle = window.adsbygoogle || []).push({}); $("#latestNewsPane ul .see-more").html(e).click(function () { 0 == j ? ($("#latestNewsPane .hide-more-items").removeClass("hide-more-items").addClass("show-more-items"), $("#latestNewsPane .see-more").html("fold it"), j = 1, f.store(i, 1)) : ($("#latestNewsPane .show-more-items").removeClass("show-more-items").addClass("hide-more-items"), $("#latestNewsPane .see-more").html("see more"), j = 0, f.store(i, 0)) }) } function b(a, b) { b.partinfo = b.info.substr(0, 106), b.info.length > 106 && (b.partinfo += "..."); var e = ""; return 4 == a && (e += c()), e += '<li data-s-idx="' + a + '" ' + (a >= 3 ? 'class="' + d + '"' : "") + ">", e += '<a class="thumbnail" data-s-o="bf-latestnews-thumbnail" href="' + b.link + '" title="' + b.title + '" target="_blank"><img src="' + b.img + '" alt="' + b.title + '"></img></a>', e += '<a class="titleBold" data-s-o="bf-latestnews-title" href="' + b.link + '" title="' + b.title + '" target="_blank">' + b.title + "</a>", e += '<a class="summary" data-s-p="bf-latestnews-digest" href="' + b.link + '" title="' + b.title + '" target="_blank">' + b.partinfo + "</a>", e += "</li>" } function c() { return result = '<li class="' + d + '"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle"style="display:block"data-ad-format="fluid"data-ad-layout-key="-7q+do+2r-e-35"data-ad-client="ca-pub-7477352286743816"data-ad-slot="4323537057"></ins></li>' } var d, e, f = this, g = this.root(), h = ($("body").attr("data-s-m"), f.domain.static + "/data/crondata/buzzfeed_data.js"), i = "lastest_news_show_more", j = f.store(i); g.tab(), 0 != j && 1 != j && (j = 0, f.store(i, 0)), 1 == j ? (d = "show-more-items", e = "fold it") : (d = "hide-more-items", e = "see more"), f.getNewData(h, a) }), REG("feedback", function () { function a() { f.show() } function b() { f.hide() } function c(b) { a(), b.show() } function d() { b(), $(".dialog").hide() } function e(a) { var b = t.val(), c = u.val(), d = !0; /^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/.test(b) ? (s.css("visibility", "hidden"), t.removeClass("valid_fail")) : (a === !0 && (s.css("visibility", "visible"), t.addClass("valid_fail")), d = !1), "" == $.trim(c) ? (a === !0 && u.addClass("valid_fail"), d = !1) : u.removeClass("valid_fail"), d ? r.removeClass("disable") : r.addClass("disable") } var f = $("#mask"), g = ($(document), this), h = $("body").attr("data-s-m"), i = $("#feedback-form-dialog"), j = $("#feedback-succ-dialog"), k = $("#feedback-fail-dialog"), l = $("#feedback-link"), m = $("#side-feedback-link"), n = $("#search-feedback-link"), o = $("#side-feedback-close"), p = m.parent(), q = "module-side-feedback", r = i.find(".button"), s = i.find(".error-info"), t = $("#email"), u = $("#content"), v = $("#screenshot"), w = $("#screenshot").find(".file-name"), x = ""; window.external && external.mxVersion && (x = external.mxVersion), i.find(".close").click(function (a) { a.preventDefault(), g.statistic({ m: h, n: "feedback", o: "close", data: { ux: "click" } }), d() }), j.find(".close, .button").click(function (a) { a.preventDefault(), d() }), k.find(".close, .button").click(function (a) { a.preventDefault(), d() }), p.hover(function () { o.toggle() }), o.click(function () { p.hide(), g.store(q, "hidden") }), g.store(q) && p.hide(), $.each([l, m, n], function (a, b) { b.click(function (a) { a.preventDefault(), g.statistic({ m: h, n: "feedback", data: { ux: "click" } }), c(i) }) }), g.listen("addSearchFeedBack", function () { $.each([$("#search-feedback-link")], function (a, b) { b.click(function (a) { a.preventDefault(), g.statistic({ m: h, n: "feedback", data: { ux: "click" } }), c(i) }) }) }), v.delegate("input", "change", function () { var a, b = /[^\\]*$/; this.value ? (a = this.value.match(b)[0], w.addClass("file-border").html(a)) : w.removeClass("file-border").html("Upload Photo") }), r.click(function (a) { a.preventDefault(); t.val(), u.val(), v.find("input"); e(!0), r.hasClass("disable") || (d(), g.statistic({ m: h, n: "feedback", o: "send", data: { ux: "click" } }), i.find("form").submit()) }), t.on("keydown", e), u.on("keydown", e) }), REG("funny", function () { function a(a) { k = a; var b = ""; $.each(a, function (a, d) { return a > 9 ? !1 : (b += c(a, d), void 0) }), $("#funny-sub-pane-0").html(b) } function b(a) { j = a; var b = ""; $.each(a, function (a, d) { b += c(a, d) }), $("#funny-sub-pane-1").html(b).hide(), e() } function c(a, b) { var c = ""; return a % 2 == 0 && (c += '<div class="clearfix">'), c += '<li data-s-idx="' + a + '" ' + (a > 3 ? 'class="' + g + '"' : "") + ">", c += '<a data-s-o="photo" href="' + b.link + '" title="' + b.title + '" target="_blank">', c += '<img src="' + b.ico + '" alt="' + b.title + '">', b.views && (c += '<span class="funny-video-hits">' + b.views + "</span>"), c += "</a>", c += "<h3>", c += '<a data-s-o="text" href="' + b.link + '" title="' + b.title + '" target="_blank">' + b.title + "</a>", c += "</h3>", c += "</li>", a % 2 == 1 && (c += "</div>"), c } function d(a) { if ("trending" === a) q.removeClass("current").addClass("not-current"), p.addClass("current").removeClass("not-current"), t = "trending", $("#funny-sub-pane-1").hide(), $("#funny-sub-pane-0").show(); else { if ("video" !== a) return !1; p.removeClass("current").addClass("not-current"), q.addClass("current").removeClass("not-current"), t = "video", $("#funny-sub-pane-0").hide(), $("#funny-sub-pane-1").show() } } function e() { i = setInterval(function () { "trending" === t ? d("video") : "video" === t && d("trending") }, 5e3) } function f() { clearInterval(i) } var g, h, i, j, k, l = this, m = this.root(), n = ($("body").attr("data-s-m"), l.domain.static + "/data/crondata/videos.js"), o = l.domain.static + "/data/crondata/us_pictures.js", p = $("#funny-trending"), q = $("#funny-video"), r = "more_videos", s = l.store(r), t = "trending"; m.tab(), 0 != s && 1 != s && (s = 0, l.store(r, 0)), 1 == s ? (g = "show-more-items", h = "fold it") : (g = "hide-more-items", h = "see more"), $("#funny-sub-pane-1").hide(), $("#funny-pane .see-more").html(h), l.getNewData(o, a), l.getNewData(n, b), q.click(function (a) { a.preventDefault(), "video" !== t && d("video") }), p.click(function (a) { a.preventDefault(), "trending" !== t && d("trending") }), $("#funny-pane .see-more").click(function () { 0 == s ? (s = 1, h = "fold it", $("#funny-pane .hide-more-items").removeClass("hide-more-items").addClass("show-more-items"), $("#funny-pane .see-more").html(h), l.store(r, 1)) : (s = 0, h = "see more", $("#funny-pane .show-more-items").removeClass("show-more-items").addClass("hide-more-items"), $("#funny-pane .see-more").html(h), l.store(r, 0)) }), $("#funny-pane").on("mouseenter", function () { f() }), $("#funny-pane").on("mouseleave", function () { e() }) }), REG("socialad", function () { function a(a) { a = a[0], $("#social-ad").attr({ href: a.link, title: a.title }).html('<img src="' + a.img + '">') } var b = this, c = ($("body").attr("data-s-m"), "/data/js/Community.js"); b.getNewData(c, a) });